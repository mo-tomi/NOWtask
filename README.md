**NowTask 段階１（UIのみ）要件定義書**  
*（2025-07-01 著者：TOMI）*

---

**1. プロジェクト全体像:**

NowTask は、１日の予定を縦型タイムラインで可視化するパーソナルタスクマネージャーです。  
段階１では「見た目が正しく表示され、最低限クリックに反応する UI」を作るところまでとし、データ保存やドラッグ処理などのロジックは空関数やダミーデータで置き換えます。  
バックエンド通信や localStorage 連携は一切行いません。

---

**2. 開発スコープ（段階１）:**

- HTML・CSS で画面レイアウトとデザインを完成させます。
- JavaScript では
    - ヘッダーの時計／現在時刻ラインのリアルタイム更新
    - ダミーの「＋」ボタンや各カードクリックでの `alert()` 表示
    - 空関数の用意（後工程で本処理を埋めるためのプレースホルダー）
  だけを実装します。
- 受け入れ基準は「9. 受け入れ条件」を参照してください。

---

**3. ファイル構成:**

- `index.html` … 画面マークアップ
- `style.css`  … 全スタイル（Sass等は使わず生CSS）
- `nowtask.js` … すべてのJavaScript（モジュール分割しない）

これら３ファイルをプロジェクト直下に配置します。サブフォルダは作りません。

---

**4. 画面仕様:**

**4.1 全体レイアウト**  
- ヘッダー（上部固定）、フッター（下部固定）、タイムライン（中央・縦スクロール）の３分割構造とします。
- 画面中央上部には「今日の日付＋現在時刻（HH:MM）」を常時、やや大きめのフォントで表示します（目立つようにする）。
- ヘッダー右端にも時計（小さめフォントで HH:MM）を配置します。

**4.2 ヘッダー**  
- 左端：サービスロゴ “NowTask”
- 中央：今日の日付＋現在時刻（例：2025-07-01 14:08）
- 右端：現在時刻（HH:MM）

> 時計の更新は 1 分ごとで、表示は HH:MM です（秒数は表示しません）。

**4.3 クイック追加バー**  
- １行テキストフィールド（placeholder: “宿題をする”）
- 隣に「＋」ボタン  
  → クリック時は下記を実行します。
  ```javascript
  alert('add');
  ```

**4.4 タイムラインパネル（メイン）**  
- 左サイドに 0:00〜23:00 の時刻ラベルを１時間ごとに表示します。
- 背景は１時間毎に薄い水平グリッド線を表示します。
- １日の高さは 1440px（１分＝1px換算）とします。
- 現在時刻位置に赤い横ラインを CSS で表示し、１分ごとに `top` を更新します。

**4.5 タスクカード（ダミー３枚）**  
- 全て `div.task-card` クラスで、「実時間（分数）＝高さ（px）」にします。
- ダミータスク例
    - 17:00–23:59 夜勤（6時間59分＝419px）
    - 0:00–9:00 夜勤（9時間＝540px）  
      ※夜勤は日をまたぐので2分割
    - 10:00–11:00 勉強（60px）
    - 13:30–14:15 ゲーム（45px）
- カード構成
    - １行目：タスク名
    - ２行目：時間帯（例 “10:00–11:00”）
    - 右上：チェックボックス（disabledで押せなくてOK）

**4.6 サイドバー**  
- 現段階では空白のグレー矩形を描画するだけです。

**4.7 フッター**  
- 中央寄せで “© 2025 TOMI” を表示します。

---

**5. レスポンシブ対応方針:**

- PC幅（≧768px）はタイムライン幅600px前後＋サイドバー240pxの2カラム。
- スマホ幅（＜768px）はサイドバーを折りたたみ、タイムラインを100%幅で表示。
- どの画面幅でも「縦方向スクロールのみ」とし、横スクロールは発生させません。
- フォントはスマホ時はやや小さくなります（メディアクエリで対応）。

---

**6. 技術スタックとルール:**

- HTML … セマンティックタグを優先し、複雑なクラス名記法は不使用
- CSS … Flexbox＋position:absolute を併用。Grid, Sass, 外部CSSライブラリ禁止
- JavaScript
    - ECMAScript 2021準拠
    - 外部ライブラリ（jQuery等）禁止。ドラッグ機能は段階２で純JS実装
    - インデントはスペース2
    - 主要な行には日本語コメントを丁寧に入れる

**フォント指定:**
```html
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
```
```css
body { font-family: 'Inter', sans-serif; font-size: 14px; }
```

---

**7. デザイン基準（カラー・サイズ）:**

- メインカラー    #2E8BFF
- アクセント（現在時刻/危険） #FF4C4C
- 背景グリッド    #F5F7FA
- タスクカード
    - 普通  #F0F8FF
    - 高   #FFE4B5
    - 緊急  #FFB6C1
- カードの角丸    4px
- 影        box-shadow: 0 1px 3px rgba(0,0,0,0.12)

---

**8. ダミー関数例（nowtask.js内）:**

```javascript
function addQuickTask() {
  // TODO: 段階２で実装
  alert('add');
}
function initDrag() {
  // TODO: 段階２で実装
}
function saveToStorage() {
  // TODO: 段階２で実装
}
```

ロード直後に `updateClock()` と `updateNowLine()` を `setInterval(1000)` で呼び、画面を更新する。

---

**9. 受け入れ条件（段階１）:**

1. index.html を Chrome で開いた際にエラーが出ない
2. タイムラインが縦スクロールでき、ヘッダー・フッターは固定
3. 中央上部およびヘッダー右端の時計が分単位で正しく更新される
4. 現在時刻ラインが1分ごとに移動し、日付変更時に0:00に戻る
5. 「＋」ボタンおよび各カードをクリックすると alert() が出る
6. 外部JavaScript/CSSライブラリを含まない

---

**10. ブラウザ動作保証:**

- Google Chrome 最新安定版（デスクトップ／Android）のみ正式サポート
- その他ブラウザは動作テスト対象外
- ベンダープレフィクスは極力省略

---

**11. コメント・ドキュメント方針:**

- JavaScriptは関数の冒頭・重要なブロックごとに「日本語コメント」を必ず入れる
- CSSもセクションごとにコメントを入れ、中学生が読んでも「どの要素を装飾しているか」が分かるようにする
- READMEや追加ドキュメントは不要

---

**12. 今後の拡張メモ（段階２以降）:**

- localStorage 永続化、ドラッグ＆ドロップ、優先度フィルタ、Todoリストなど
- ソフト削除やUndo、AIによる空き時間提案、SNS共有などのアイデアは初稿を踏襲

---

**13. 不要機能（実装禁止）:**

以下の機能は、プロジェクトの方針により実装しません：

- **ダークモード**: テーマ切り替え機能は複雑性を増すため実装しない
- **キーボードショートカット**: 複雑なキーボード操作は実装しない  
  （Enterキーでのクイック追加のみ例外）
- **カスタムテーマ**: ユーザーによる色変更機能は実装しない
- **多言語対応**: 日本語のみで開発し、国際化は考慮しない
- **複雑なアニメーション**: 基本的なホバー効果とCSS transitionのみに留める
- **設定画面**: ユーザー設定を保存する機能は実装しない

---
