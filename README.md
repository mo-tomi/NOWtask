# NowTask - ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼

[![pnpm](https://img.shields.io/badge/pnpm-v8.15.0-orange)](https://pnpm.io/)
[![Vite](https://img.shields.io/badge/Vite-v5.0.0-646CFF)](https://vitejs.dev/)
[![Vitest](https://img.shields.io/badge/Vitest-v1.0.0-6E9F18)](https://vitest.dev/)
[![Rolldown](https://img.shields.io/badge/Rolldown-v0.5.0-FF6B35)](https://rolldown.rs/)

1æ—¥ã®äºˆå®šã‚’ç¸¦å‹ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã§å¯è¦–åŒ–ã™ã‚‹ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã™ã€‚

## ğŸš€ ç‰¹å¾´

- **1åˆ†=1px**ã®æ­£ç¢ºãªã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º
- **æ—¥ä»˜è·¨ãã‚¿ã‚¹ã‚¯**ã®è‡ªå‹•åˆ†å‰²è¡¨ç¤ºï¼ˆ23:00-07:00 â†’ 2æšã®ã‚«ãƒ¼ãƒ‰ï¼‰
- **ãƒ¬ãƒ¼ãƒ³åˆ†ã‘**ã«ã‚ˆã‚‹é‡è¤‡ã‚¿ã‚¹ã‚¯ã®è‡ªå‹•é…ç½®
- **ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«**å¯¾å¿œã®ä»®æƒ³åŒ–DOM
- **Testing Trophy**æº–æ‹ ã®ãƒ†ã‚¹ãƒˆè¨­è¨ˆ
- **Clean Architecture**ã«ã‚ˆã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ©ãƒ¼è¨­è¨ˆ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Build Tool**: Vite 5.0 + Rolldown 0.5
- **Package Manager**: pnpm 8.15
- **Testing**: Vitest 1.0 + jsdom
- **Language**: Vanilla JavaScript (ES2022)
- **Styling**: Vanilla CSS (ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ä¸ä½¿ç”¨)

## ğŸ“‹ å‰ææ¡ä»¶

- Node.js 18.0.0 ä»¥ä¸Š
- pnpm 8.0.0 ä»¥ä¸Š

## ğŸš¦ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
pnpm install
```

### 2. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
pnpm dev
```

â†’ http://localhost:8000 ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·å‹•ã—ã¾ã™

### 3. ãƒ“ãƒ«ãƒ‰

```bash
pnpm build
```

### 4. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼

```bash
pnpm preview
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

### å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
pnpm test
```

### ãƒ†ã‚¹ãƒˆï¼ˆãƒ¯ãƒ³ã‚·ãƒ§ãƒƒãƒˆï¼‰

```bash
pnpm test:run
```

### ãƒ†ã‚¹ãƒˆUI

```bash
pnpm test:ui
```

### ã‚«ãƒãƒ¬ãƒƒã‚¸æ¸¬å®š

```bash
pnpm test:coverage
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
NOWtask/
â”œâ”€â”€ core/                    # ã‚³ã‚¢ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆUnit Levelï¼‰
â”‚   â”œâ”€â”€ timeUtils.js        # æ™‚é–“è¨ˆç®—ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ laneEngine.js       # ãƒ¬ãƒ¼ãƒ³åˆ†ã‘ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
â”œâ”€â”€ services/               # ã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼ˆIntegration Levelï¼‰
â”‚   â””â”€â”€ storage.js          # ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ãƒ»Taskãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ ui/                     # UIå±¤ï¼ˆIntegration Levelï¼‰
â”‚   â”œâ”€â”€ taskCard.js         # ã‚¿ã‚¹ã‚¯ã‚«ãƒ¼ãƒ‰ç®¡ç†
â”‚   â””â”€â”€ virtualScroll.js    # ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
â”œâ”€â”€ test/                   # ãƒ†ã‚¹ãƒˆè¨­å®š
â”‚   â””â”€â”€ setup.js           # Vitestã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”œâ”€â”€ index.html              # ãƒ¡ã‚¤ãƒ³HTML
â”œâ”€â”€ style.css               # å…¨ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©
â”œâ”€â”€ main.js                 # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ vite.config.js          # Viteè¨­å®š
â”œâ”€â”€ package.json            # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ pnpm-workspace.yaml     # pnpmãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹
â”œâ”€â”€ task-overnight.test.js  # æ—¥ä»˜è·¨ããƒ†ã‚¹ãƒˆ
â””â”€â”€ README.md               # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### Testing Trophyæº–æ‹ 

```
    /\      E2E Tests (å°‘æ•°)
   /  \     Integration Tests (ä¸­ç¨‹åº¦)
  /____\    Unit Tests (å¤šæ•°)
 /______\   Static Analysis
```

- **Unit Level**: `core/timeUtils.js`, `core/laneEngine.js`
- **Integration Level**: `services/storage.js`, `ui/taskCard.js`, `ui/virtualScroll.js`
- **E2E Level**: `main.js`ã®çµ±åˆãƒ†ã‚¹ãƒˆ

### Clean Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              UI Layer               â”‚  ui/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚           Services Layer            â”‚  services/
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             Core Layer              â”‚  core/
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸŒŸ ä¸»è¦æ©Ÿèƒ½

### 1. æ—¥ä»˜è·¨ãã‚¿ã‚¹ã‚¯åˆ†å‰²

```javascript
// 23:00-07:00 ã®ã‚¿ã‚¹ã‚¯ã¯è‡ªå‹•çš„ã«2æšã«åˆ†å‰²
const task = new Task(null, 'å¤œå‹¤', '23:00', '07:00');
if (task.isOvernight()) {
  const { firstPart, secondPart } = task.splitIntoTwo();
  // firstPart: 23:00-23:59 (å½“æ—¥)
  // secondPart: 00:00-07:00 (ç¿Œæ—¥)
}
```

### 2. O(n log n) ãƒ¬ãƒ¼ãƒ³åˆ†ã‘ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 

```javascript
// é‡è¤‡ã™ã‚‹ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•çš„ã«æ¨ªä¸¦ã³ã«é…ç½®
const laneData = assignLanes('2025-01-15');
// â†’ { maxLanes: 3, assignments: Map<taskId, laneNumber> }
```

### 3. ä»®æƒ³åŒ–DOMï¼ˆç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ï¼‰

```javascript
// å‰å¾Œ1æ—¥åˆ†ã®ã¿DOMã«ä¿æŒã€ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–
ensureVisibleDays('2025-01-15');
// â†’ å‰æ—¥ãƒ»å½“æ—¥ãƒ»ç¿Œæ—¥ã®3ãƒ‘ãƒãƒ«ã®ã¿ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
```

## ğŸ® ä½¿ç”¨æ–¹æ³•

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰æœ‰åŠ¹åŒ–

```
http://localhost:8000?debug=true
```

### ğŸ“š é‡è¦ãªè¨­è¨ˆåŸå‰‡

**ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸ä½¿ç”¨ãƒãƒªã‚·ãƒ¼**
- ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ„å›³çš„ã«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã‚’å®Ÿè£…ã—ã¾ã›ã‚“
- ã‚·ãƒ³ãƒ—ãƒ«ã•ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£ã‚’é‡è¦–ã—ã€ãƒã‚¦ã‚¹/ã‚¿ãƒƒãƒæ“ä½œã®ã¿ã«ç‰¹åŒ–
- é›†ä¸­ã‚’å¦¨ã’ã‚‹è¤‡é›‘ãªæ“ä½œã¯é¿ã‘ã€ç›´æ„Ÿçš„ãªUIã‚’å„ªå…ˆ

**ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ä¸å®Ÿè£…ãƒãƒªã‚·ãƒ¼**
- ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ„å›³çš„ã«ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã‚’å®Ÿè£…ã—ã¾ã›ã‚“
- çµ±ä¸€ã•ã‚ŒãŸç¾ã—ã„ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒã«ç‰¹åŒ–ã—ã€ä¸€è²«ã—ãŸUXã‚’æä¾›
- ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆã«ã‚ˆã‚‹è¤‡é›‘æ€§ã‚’æ’é™¤ã—ã€æ´—ç·´ã•ã‚ŒãŸãƒ‡ã‚¶ã‚¤ãƒ³ã‚’è¿½æ±‚

### æ—¥ä»˜è·¨ãã‚µãƒ³ãƒ—ãƒ«ç”Ÿæˆ

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§å®Ÿè¡Œ
NowTaskTest.testLaneManagement.createOvernightSample()
// â†’ 22:00-02:00 ã¨ 23:30-08:00 ã®ã‚µãƒ³ãƒ—ãƒ«ã‚¿ã‚¹ã‚¯ã‚’ç”Ÿæˆ
```

### ãƒ†ã‚¹ãƒˆAPIæ´»ç”¨

```javascript
// æ™‚é–“è¨ˆç®—ãƒ†ã‚¹ãƒˆ
NowTaskTest.timeUtils.measurePerformance(() => {
  timeStringToMinutes('14:30');
});

// ãƒ¬ãƒ¼ãƒ³åˆ†ã‘ãƒ†ã‚¹ãƒˆ
NowTaskTest.laneEngine.createOverlappingTasks();

// ã‚¿ã‚¹ã‚¯ç”Ÿæˆãƒ†ã‚¹ãƒˆ
NowTaskTest.testLaneManagement.checkOvernightDisplay(taskId);
```

## ğŸ”§ é–‹ç™ºã‚¬ã‚¤ãƒ‰

### ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

- **JavaScript**: ECMAScript 2021ã€ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆ2ã‚¹ãƒšãƒ¼ã‚¹
- **CSS**: Vanilla CSSã€BEMè¨˜æ³•ä¸ä½¿ç”¨
- **HTML**: ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ã‚¿ã‚°å„ªå…ˆ

### ãƒ•ã‚¡ã‚¤ãƒ«å‘½åè¦å‰‡

- **é–¢æ•°**: camelCase (`createTaskCard`)
- **ã‚¯ãƒ©ã‚¹**: PascalCase (`Task`)
- **å®šæ•°**: UPPER_SNAKE_CASE (`MAX_LANES`)
- **ãƒ•ã‚¡ã‚¤ãƒ«**: kebab-case (`task-card.js`)

### Gité‹ç”¨

```bash
# æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/overnight-tasks

# ã‚³ãƒŸãƒƒãƒˆ
git commit -m "feat: æ—¥ä»˜è·¨ãã‚¿ã‚¹ã‚¯ã®åˆ†å‰²è¡¨ç¤ºæ©Ÿèƒ½ã‚’è¿½åŠ "

# ãƒ—ãƒƒã‚·ãƒ¥
git push origin feature/overnight-tasks
```

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

1. **pnpm install ã§å¤±æ•—ã™ã‚‹**
   ```bash
   rm -rf node_modules pnpm-lock.yaml
   pnpm install
   ```

2. **ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹**
   ```bash
   pnpm test:run --reporter=verbose
   ```

3. **ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼**
   ```bash
   pnpm clean && pnpm build
   ```

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

```javascript
// ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§çŠ¶æ…‹ç¢ºèª
console.log(window.AppState);
console.log(window.NowTaskTest);

// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬
NowTaskTest.integration.measureFullRenderTime();
```

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

- **åˆæœŸèª­ã¿è¾¼ã¿**: < 1ç§’
- **300ä»¶ã‚¿ã‚¹ã‚¯ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°**: < 100ms
- **FPS**: 60fps ç¶­æŒ
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: ä»®æƒ³åŒ–ã«ã‚ˆã‚Šæœ€å°é™

## ğŸ”® ä»Šå¾Œã®äºˆå®š

- [ ] PWAå¯¾å¿œ
- [ ] ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ©Ÿèƒ½
- [ ] ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
- [ ] ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æº
- [ ] AIäºˆå®šææ¡ˆ

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Fork this repository
2. Create your feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ğŸ‘¨â€ğŸ’» ä½œè€…

**TOMI** - [GitHub](https://github.com/your-username)

---

**ğŸŒ™ æ—¥ä»˜è·¨ãã‚¿ã‚¹ã‚¯ã‚‚ç¾ã—ãè¡¨ç¤ºã™ã‚‹ã€æ¬¡ä¸–ä»£ã‚¿ã‚¹ã‚¯ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼** 